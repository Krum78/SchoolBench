
<p *ngIf="!courses"><em>Loading Data...</em></p>

<div *ngIf="courses" class="test-results-filter">
  <mat-form-field>
    <mat-select placeholder="Select Course..." [(value)]="selectedCourse">
      <mat-option *ngFor="let course of courses" [value]="course">
        {{course.name}}
      </mat-option>
    </mat-select>
  </mat-form-field>
  <mat-form-field *ngIf="modules">
    <mat-select placeholder="Select Module..." [(value)]="selectedModule">
      <mat-option *ngFor="let module of modules" [value]="module">
        {{module.name}}
      </mat-option>
    </mat-select>
  </mat-form-field>

  <mat-form-field *ngIf="tests">
    <mat-select placeholder="Select Test..." [(value)]="selectedTest">
      <mat-option *ngFor="let test of tests" [value]="test">
        {{test.name}}
      </mat-option>
    </mat-select>
  </mat-form-field>
</div>
<div *ngIf="results">
  <div *ngIf="results.length > 0">
    <table class="table table-striped table-hover">
      <thead>
        <tr>
          <th>User</th>
          <th>Score</th>
          <th>Max Available Score</th>
          <th>Percentage</th>
          <th>Test Date</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let result of results">
          <td>{{result.creator}}</td>
          <td>{{result.score}}</td>
          <td>{{result.maxScore}}</td>
          <td>{{result.percentage}}</td>
          <td>{{result.dateCreated | date: "medium"}}</td>
        </tr>
      </tbody>
    </table>
  </div>
  <div *ngIf="results.length == 0">
    <h2>No results found for the selected test.</h2>
  </div>
</div>


